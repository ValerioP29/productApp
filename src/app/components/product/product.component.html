<div
  class="p-3 gap-3 d-flex flex-wrap align-items-stretch"
  *ngIf="products.length > 0; else loading"
>
  <div class="card" style="width: 18rem" *ngFor="let product of products">
    <img
      [src]="product.thumbnail"
      class="card-img-top"
      alt="{{ product.title }}"
    />
    <div
      class="card-body d-flex flex-column flex-grow-1 gap-2 align-items-center justify-content-center"
    >
      <h5 class="card-title">{{ product.title }}</h5>
      <p class="card-text">{{ product.description }}</p>

      <p>
        <strong>Price: </strong>\${{ product.price }}
        <span class="text-danger">(-{{ product.discountPercentage }}%)</span>
      </p>
      <p><strong>Rating: </strong>{{ product.rating }}/5</p>
      <p>
        <strong>Stock: </strong
        >{{ product.stock > 0 ? product.stock : "Out of stock" }}
      </p>
      <p><strong>Brand: </strong>{{ product.brand }}</p>
      <button
        class="btn btn-primary rounded-pill px-3"
        type="button"
        (click)="addToFavorites(product)"
      >
        Salva nei Preferiti
      </button>
      <button
        class="btn btn-danger rounded-pill px-3"
        type="button"
        (click)="addToCart(product)"
      >
        Aggiungi al carrello
      </button>
    </div>
  </div>
</div>

<ng-template #loading>
  <div class="d-flex justify-content-center">
    <div class="spinner-border" role="status">
      <span class="sr-only">Loading product...</span>
    </div>
  </div>
</ng-template>
